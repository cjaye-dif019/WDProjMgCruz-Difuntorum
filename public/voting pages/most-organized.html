<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Best Lecturer | Vote</title>

<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;800&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  font-family:'Montserrat',sans-serif;
  background:linear-gradient(135deg,#3b4cca,#9056e0);
  color:#0a2a43;
}

/*  */
header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  background:rgba(251,251,251,.7);
  backdrop-filter:blur(12px);
  padding:18px 40px;
  position:sticky;
  top:0;
  z-index:1000;
}

.logo-title{
  display:flex;
  align-items:center;
  gap:12px;
}
.logo-title img{width:55px}
.menu{font-size:32px;font-weight:900}

/* menu */
        .nav-menu {
            position: absolute;
            top: 85px;
            right: 40px;
            width: 230px;
            background: #e4d2a8;
            border-radius: 15px;
            padding: 10px 0;
            display: none;
            flex-direction: column;
            box-shadow: 0 4px 20px rgba(0,0,0,0.25);
            animation: fadeIn 0.25s ease-out;
        }

        .nav-menu a {
            padding: 15px 22px;
            text-decoration: none;
            color: #000;
            font-weight: 700;
            border-bottom: 1px solid rgba(0,0,0,0.15);
            transition: 0.2s;
        }

        .nav-menu a:last-child {
            border-bottom: none;
        }

        .nav-menu a:hover {
            background: rgba(255,255,255,0.45);
            padding-left: 28px;
        }


/* ---------- MAIN ---------- */
main{
  padding:140px 20px;
  max-width:760px;
  margin:auto;
}

h1{text-align:center;font-weight:800}
p{text-align:center;margin-bottom:30px}

/* ---------- SUBJECT BUTTONS ---------- */
.subjects{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
  gap:18px;
}

.subject{
  background:#f5d58c;
  padding:18px;
  border-radius:26px;
  font-weight:800;
  text-align:center;
  cursor:pointer;
  transition:.25s;
}
.subject:hover{
  background:#ffe29f;
  transform:translateY(-3px);
}

/* make Values Education span 3 columns */
.subject.wide {
  grid-column: span 3;
}


/* ---------- MODAL ---------- */
.overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.55);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:2000;
}

.modal{
  background:#4db8ff;
  padding:30px;
  border-radius:26px;
  width:360px;
  max-height:80vh;
  overflow-y:auto;
  text-align:center;
  animation:pop .3s ease;
}

.modal h2{
  margin-top:0;
  font-weight:800;
}

/* teachers */
.teacher{
  background:rgba(255,255,255,.8);
  margin:10px 0;
  padding:12px;
  border-radius:14px;
  font-weight:700;
  cursor:pointer;
}

.teacher.selected{
  background:#fff3c4;
}

/* confirm */
.confirm{
  background:#f5d58c;
  margin-top:18px;
  padding:12px;
  border-radius:18px;
  font-weight:800;
  cursor:pointer;
}

.confirm:hover{background:#ffe29f}

/* close */
.close{
  margin-top:12px;
  font-size:14px;
  cursor:pointer;
  opacity:.8;
}

@keyframes pop{
  from{transform:scale(.85);opacity:0}
  to{transform:scale(1);opacity:1}
}

/* ---------- FOOTER ---------- */
footer{
  padding:30px 50px;
  display:flex;
  justify-content:space-between;
  background:rgba(251,251,251,.3);
  backdrop-filter:blur(12px);
}
</style>
</head>

<body>

    <header>
        <div class="logo-title">
        <img src="../readme images/logo.png" />
            <div>
                <div style="font-size: 26px; font-weight: 800;">Pillars of Excellence</div>
                <div>Teachers of Pisay</div>
            </div>
        </div>

        <div class="menu" onclick="toggleMenu()">☰</div>
    </header>

    <!-- menu -->
    <div id="menuDropdown" class="nav-menu">
        <a href="../main_page.html">Home Page</a>
        <a href="../public/teachers.html">Teachers' Page</a>
        <a href="../public/voting.html">Vote for Teacher</a>
        <a href="../public/leaderboard.html">Leaderboard</a>
    </div>
<main>
  <h1>Most Organized</h1>
  <p>explain this part</p>

  <div class="subjects">
    <div class="subject" onclick="openVote('Biology')">Biology</div>
    <div class="subject" onclick="openVote('Chemistry')">Chemistry</div>
    <div class="subject" onclick="openVote('Computer_Science')">Computer Science</div>
    <div class="subject" onclick="openVote('English')">English</div>
    <div class="subject" onclick="openVote('Filipino')">Filipino</div>
    <div class="subject" onclick="openVote('Integrated_Science')">Integrated Science</div>
    <div class="subject" onclick="openVote('Mathematics')">Mathematics</div>
    <div class="subject" onclick="openVote('Physics')">Physics</div>
    <div class="subject" onclick="openVote('Research')">Research</div>
    <div class="subject" onclick="openVote('Social_Science')">Social Science</div>
    <div class="subject" onclick="openVote('Technology')">Technology</div>
    <div class="subject" onclick="openVote('PEHM')">PEHM</div>
    <div class="subject wide" onclick="openVote('Values_Education')">Values Education</div>
  </div>
</main>

<!-- MODAL -->
<div class="overlay" id="overlay">
  <div class="modal">
    <h2 id="subjectTitle"></h2>
    <div id="teacherList"></div>

    <div class="confirm" onclick="confirmVote()">CONFIRM VOTE</div>
    <div class="close" onclick="closeModal()">Cancel</div>
  </div>
</div>

<footer>
  <div>Pillars of Excellence<br>© SCA CRUZ & CJA DIFUNTORUM</div>
  <div>Contact: 01234567890</div>
</footer>

<script src="teacher_name.js"></script>
<script src="voting_year.js"></script>

<script>


 /* menu funcitons */
        function toggleMenu() {
            const menu = document.getElementById("menuDropdown");
            menu.style.display = menu.style.display === "flex" ? "none" : "flex";
        }
const CATEGORY = "MOST ORGANIZED";



let selectedSubject=null;

function openVote(subject){
  selectedSubject=subject;
  selectedTeacher=null;

  document.getElementById("overlay").style.display="flex";
  document.getElementById("subjectTitle").innerText=subject;

  const list=document.getElementById("teacherList");
  list.innerHTML="";

  (teachers[subject]||[]).forEach(name=>{
    const div=document.createElement("div");
    div.className="teacher";
    div.innerText=name;
    div.onclick=()=>{
      document.querySelectorAll(".teacher").forEach(t=>t.classList.remove("selected"));
      div.classList.add("selected");
      selectedTeacher=name;
    };
    list.appendChild(div);
  });
}

function closeModal(){
  document.getElementById("overlay").style.display="none";
}

function confirmVote(){
  if(!selectedTeacher){
    alert("Please select a teacher.");
    return;
  }

  let votes=JSON.parse(localStorage.getItem("categoryVotes"))||{};
  votes[CATEGORY]=votes[CATEGORY]||{};
  votes[CATEGORY][selectedSubject]=votes[CATEGORY][selectedSubject]||{};
  votes[CATEGORY][selectedSubject][selectedTeacher]=(votes[CATEGORY][selectedSubject][selectedTeacher]||0)+1;

  localStorage.setItem("categoryVotes",JSON.stringify(votes));

  alert(`Vote saved for ${selectedTeacher}!`);
  closeModal();
}
</script>

</body>
</html>
